h1. Velkommen til Kompetansesøk

* "Diskusjonsforum (Google Groups)":http://groups.google.com/group/kompetansesok
* "Endringsønsker og feil (Pivotal Tracker)":http://www.pivotaltracker.com/projects/4705/stories

h2. Automatiserte tester

h3. Funksjonelle tester (Cucumber features)

Kjør features for app:
<pre>rake import:db
rake features:app</pre>

Kjør features for import:
<pre>jruby -S rake features:import</pre>

Kjør spesifikk feature (eksempel):
<pre>cucumber features/foo.feature:77 --language no</pre>
<pre>jruby -S cucumber features/foo.feature:77 --language no</pre>

Se "Cucumber dok":http://github.com/aslakhellesoy/cucumber/wikis for mer info.

h2. Importere data fra GREP

Import skjer i to steg. Først importeres RDF til lokal disk, deretter parses disse filene og importeres i lokal database.

h3. Importere GREP filer

<pre>mkdir /tmp/kompetansesok
jruby script/runner script/import/import_til_fil /tmp/kompetansesok
jruby script/import/import_til_db /tmp/kompetansesok</pre>

h2. RDF og Jena

RDF data fra GREP parses med Jena. En bra introduksjon finnes "her":http://jena.sourceforge.net/tutorial/RDF_API/ 

h2. Krav som ikke dekkes av Cucumber

* K11 - MySQL
* K63 - BDD

h2. Sette opp miljø

Sjekk uten krever følgende gems installert i både jruby og ruby for å kjøre
tester. Dette er hva som er installert fra en blank ubuntu installasjon,
men burde være likt for mange andre distiubsjoner
* jruby fra svn, ikke apt-get i ubuntu
* cucumber 1.11, må bygges fra siste checkout fra http://github.com/aslakhellesoy/cucumber/tarball/v0.1.11
* debs;
** libmysqlclient15-dev
** mysql-server(remember empty root password)
** libxml2 og libxml2-dev
** libxslt-dev

* gems i jruby og vanlig ruby gem;
** rake
** rails v2.2.2
** rspec
** activerecord-jdbc-adapter
** feedtools
** rspec-rails
** mysql
** nokogiri(se install nokogiri)
** mislav-will_paginate --source http://gems.github.com

Det var alt ;)

h3. Install nokogiri

Det ser ut til at nokogiri og webrat har problemer med jruby, måten jeg klarte
å løse dette på er og installere nokogiri 1.0.6, det ser ut til at 1.0.7 er der
problemene ligger;
# aaronp-frex med ruby gem
# installere jruby -S gem install -v=1.0.6 nokogiri
# Last ned og bygg webrat fra siste versjon på git hub, og installer denne




